# State Pattern

> 객체의 내부 상태가 바뀜에 따라서 객체의 행동을 바꿀 수 있다. 마치 객체의 클래스가 바뀌는 것과 같은 결과를 얻을 수 있다.

<br>

## 구조

![state_pattern](../../../res/state_pattern.svg)

<br>

## 정리

- state 패턴은 상태를 별도의 클래스로 캡슐화한 다음 현재 상태를 나타내는 객체에게 행동을 위임하기 때문에, 내부 상태가 바뀜에 따라서 행동이 달라지게 된다.
- **strategy 패턴과의 차이점**
  - strategy 패턴과 같은 구조로 이루어져 있지만 사용 용도에 차이가 있다.
  - state
    - 상태 객체에 일련의 행동이 캡슐화 된다.
    - 상황에 따라 Context 객체에서 여러 State 객체중 한 객체에게 모든 행동을 위임한다.
    - 해당 객체 내부 상태에 따라 현재 상태를 나타내는 State 객체가 변화하고, 그 결과로 Context 객체의 행동도 자연스럽게 변화한다.
    - 클라이언트는 State 객체에 대해 신경쓰지 않아도 된다.
  - strategy
    - 일반적으로 strategy 패턴은 서브 클래스를 만드는 방법을 대신하여 유연석을 극대화 하기 위한 용도로 사용된다.
    - composition을 통하여 행동을 정의하는 객체를 유연하게 바꿀 수 있다.
  - state 패턴은 Context 객체에 수많은 조건문을 집어넣는 대신에 사용할 수 있는 패턴으로 생각하면 된다. 
  - 행동을 State 객체 내에 캡슐화시키면 Context 내의 State 객체를 바꾸는 것만으로도 Context 객체의 행동을 바꿀 수 있다.